#!/bin/bash

spinner()
{
    local pid=$1
    local delay=0.1
    local spinstr='|/-\'
    while ps a | awk '{print $1}' | grep -q "$pid"; do
        local temp=${spinstr#?}
        printf " [%c]  " "$spinstr"
        spinstr=$temp${spinstr%"$temp"}
        sleep $delay
        printf "\b\b\b\b\b\b"
    done
    printf "    \b\b\b\b"
}

clear

SCRIPTDIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"

echo "  _                     _ _                   "
echo " | |                   | (_)                  "
echo " | |     ___   __ _  __| |_ _ __   __ _       "
echo " | |    / _ \ / _\` |/ _\` | | '_ \ / _\` |   "
echo " | |___| (_) | (_| | (_| | | | | | (_| |_ _ _ "
echo " |______\___/ \__,_|\__,_|_|_| |_|\__, (_|_|_)"
echo "                                   __/ |      "
echo "                                  |___/       "

BOOTUP_MESSAGE="
The boot up process might take a while. Please be patient...
"
echo "$BOOTUP_MESSAGE"

"$SCRIPTDIR"/.OpenBB/OpenBBTerminal &
spinner $!
