#!/bin/bash

clear

SCRIPTDIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"

echo "  _                     _ _                   "
echo " | |                   | (_)                  "
echo " | |     ___   __ _  __| |_ _ __   __ _       "
echo " | |    / _ \ / _\` |/ _\` | | '_ \ / _\` |   "
echo " | |___| (_) | (_| | (_| | | | | | (_| |_ _ _ "
echo " |______\___/ \__,_|\__,_|_|_| |_|\__, (_|_|_)"
echo "                                   __/ |      "
echo "                                  |___/       "

BOOTUP_MESSAGE="
The boot up process might take a while. Please be patient...
"
echo "$BOOTUP_MESSAGE"

# Function to update the progress bar
update_progress() {
  local progress=$1
  local bar_length=100
  local completed_length=$(( progress * bar_length / 100 ))
  local remaining_length=$(( bar_length - completed_length ))
  local bar=$(printf '%*s' "$completed_length" | tr ' ' '#')
  local space=$(printf '%*s' "$remaining_length" | tr ' ' ' ')

  # Print the progress bar
  printf "[%-30s] %d%%" "$bar$space" "$progress"
}

# Simulating boot up process
total_steps=30

for ((i=1; i<=total_steps; i++)); do
  # Perform boot up task
  sleep .5  # Simulating a delay of 1 second

  # Calculate progress percentage
  progress=$(( i * 100 / total_steps ))

  # Update the progress bar
  update_progress "$progress"

  # Print a newline character to separate progress bar from next output
  printf "\n"
done

echo "Starting Momentarily!"

echo "Starting Momentarily!"

"$SCRIPTDIR"/.OpenBB/OpenBBTerminal
